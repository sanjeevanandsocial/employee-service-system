<h1 class="page-title">My Profile</h1>

<div style="background: white; border-radius: 12px; padding: 24px; margin-bottom: 24px; border: 1px solid #e2e8f0;">
  <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
    <% if @user.profile_picture.attached? %>
      <%= image_tag @user.profile_picture, style: "width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid #e2e8f0;" %>
    <% else %>
      <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 20px;">
        <%= @user.email.first.upcase %>
      </div>
    <% end %>
    <div>
      <h2 style="margin: 0 0 8px 0; color: #1e293b; font-size: 24px;"><%= @user.email.split('@')[0].titleize %></h2>
      <p style="margin: 0; color: #64748b; font-size: 16px;"><%= @user.email %></p>
    </div>
  </div>

  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
    <div>
      <h3 style="margin: 0 0 16px 0; color: #1e293b; font-size: 18px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px;">Basic Information</h3>
      <div style="space-y: 12px;">
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">User ID</label>
          <div style="color: #1e293b; font-size: 16px;">#<%= @user.id %></div>
        </div>
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">Email</label>
          <div style="color: #1e293b; font-size: 16px;"><%= @user.email %></div>
        </div>
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">Role</label>
          <div style="color: #1e293b; font-size: 16px;"><%= @user.role.capitalize %></div>
        </div>
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">Gender</label>
          <div style="color: #1e293b; font-size: 16px;"><%= @user.gender.capitalize %></div>
        </div>
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">Age</label>
          <div style="color: #1e293b; font-size: 16px;"><%= @user.age %> years</div>
        </div>
      </div>
    </div>

    <div>
      <h3 style="margin: 0 0 16px 0; color: #1e293b; font-size: 18px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px;">Work Information</h3>
      <div style="space-y: 12px;">
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">Reporting Person</label>
          <div style="color: #1e293b; font-size: 16px;"><%= @user.reporting_person&.email || 'Not assigned' %></div>
        </div>
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">Account Status</label>
          <div>
            <span style="padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 500; <%= @user.is_frozen ? 'background: #fee2e2; color: #991b1b;' : 'background: #dcfce7; color: #166534;' %>">
              <%= @user.is_frozen ? 'Frozen' : 'Active' %>
            </span>
          </div>
        </div>
        <div style="margin-bottom: 12px;">
          <label style="display: block; font-weight: 600; color: #64748b; margin-bottom: 4px; font-size: 12px;">Member Since</label>
          <div style="color: #1e293b; font-size: 16px;"><%= @user.created_at.strftime('%B %d, %Y') %></div>
        </div>
      </div>
    </div>
  </div>

  <% if @user.addresses.any? %>
  <div style="margin-top: 30px;">
    <h3 style="margin: 0 0 16px 0; color: #1e293b; font-size: 18px; border-bottom: 2px solid #e2e8f0; padding-bottom: 8px;">Address Information</h3>
    <% address = @user.addresses.first %>
    <div style="padding: 16px 0;">
      <div style="color: #64748b; line-height: 1.5;">
        <%= address.line1 %><br>
        <% if address.line2.present? %><%= address.line2 %><br><% end %>
        <%= address.city %>, <%= address.state %> <%= address.zip %><br>
        <%= address.country %>
      </div>
    </div>
  </div>
  <% end %>
</div>